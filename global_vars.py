import math
# Game setup and UI
SCREEN_WIDTH = 1400
SCREEN_HEIGHT = 600
MID_WIDTH = SCREEN_WIDTH // 2
MID_HEIGHT = SCREEN_HEIGHT // 2
UI_SIZE = 120
STAT_BAR_OFFSET = 10
REWARD_OFFSET = 80

#plot settings
PLOT_HEIGHT = 65
PLOT_WIDTH = 300

# sample rates
UI_SAMPLE_RATE = 30
SCREEN_SAMPLE_RATE = 2
MODEL_SAMPLE_RATE = 2

# Colors
WHITE = (255, 255, 255)
BLACK = (0, 0, 0)
RED = (255, 0, 0)
GREEN = (0, 255, 0)
BLUE = (50, 50, 255)
YELLOW = (255,255,0)
GRAY = (50, 50, 50)
PLT_COLOR = (76,0,153)

# Game settings
MAX_SCORE = 10

# ball settings
BALL_RADIUS = max(SCREEN_HEIGHT, SCREEN_WIDTH) // 100
BALL_MAX_SPEED = 11
BALL_COLOR = (215,35,245)

# paddle settings
PADDLE_RADIUS = SCREEN_HEIGHT // 10
PADDLE_VEL = 6
VELO_MULT = 1.5
PADDLE_MOVE_DECAY = 0.69

# obstacle settings
OBSTACLE_RADIUS = min(SCREEN_WIDTH // 22, SCREEN_HEIGHT // 22)
OBSTACLE_SPREAD = SCREEN_WIDTH // 4

# AI settings:
# game params
MAX_ANTICIPATION_TIME = 8
MISS_PENALTY = 1.0
HIT_REWARD = 1.0
SCORE_REWARD_MULT = 0.7
WIN_REWARD = 1.0
MIN_REWARD_VAL = 0.05
MIDGROUND_SPLIT = math.gcd(OBSTACLE_SPREAD * 2, SCREEN_HEIGHT)
MODEL_PATH = './pong_agent.h5'
BASE_PATH = './pong_agent.h5'#'./models/base_agent.h5'

# actions
NULL_ACT = [0,0,0,0,1]
INPUT_SIZE = 96
INPUT_SHAPE = [SCREEN_WIDTH//5, SCREEN_HEIGHT//5, 3, 1]
STATE_SPLIT = 5
ACTION_SIZE = 5

# Hyper params
GAMMA = 0.7
L2_LAMBDA = 0.01
DROPOUT_RATE = 0.1
LEARNING_RATE = 1e-4
Q_VAL_RATIO = 0.65
BATCH_SIZE = 2**5
MEMORY_SIZE = BATCH_SIZE * 2**8
MIN_EPSILON = 0.6 

METRIC = 'mae'
ACTIVATION = 'relu'
OUTPUT_ACTIV = 'linear'
LOSS_FUNC = 'huber'
LAYERS = [128,256,512,256,128,64]